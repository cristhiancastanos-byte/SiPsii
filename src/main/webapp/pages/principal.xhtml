<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      lang="es">

<h:head>
    <title>SiPsi – Inicio</title>
    <meta charset="UTF-8" />

    <h:outputStylesheet>
        :root {
        --morado: #6F00FC;
        --morado-osc: #4b02b5;
        --degrad1: #EDE9FD;
        --degrad2: #CBA8E8;
        --texto: #1a1a1a;
        }

        * {
        box-sizing: border-box;
        }

        body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        color: var(--texto);
        }

        .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 18px;
        background: linear-gradient(90deg, var(--degrad1), var(--degrad2));
        border-bottom: 1px solid #ddd;
        }

        .topbar__left {
        display: flex;
        align-items: center;
        gap: 12px;
        min-width: 220px;
        }

        .topbar__center {
        flex: 1;
        display: flex;
        justify-content: center;
        }

        .topbar__right {
        min-width: 220px;
        display: flex;
        justify-content: flex-end;
        }

        .logo {
        height: 42px;
        width: auto;
        border-radius: 14px;
        background: #fff;
        padding: 6px 10px;
        }

        .btn {
        border: 0;
        padding: 10px 16px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        }

        .btn--logout {
        background: #b51d1d;
        color: #fff;
        box-shadow: 0 4px 14px rgba(181, 29, 29, .35);
        }

        .btn--logout:hover {
        filter: brightness(.95);
        }

        .btn--ghost {
        background: #fff;
        border: 2px solid #bbb;
        }

        .nav-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        }

        .btn--primary {
        background: var(--morado);
        color: #fff;
        box-shadow: 0 4px 14px rgba(111, 0, 252, .35);
        text-decoration: none;
        display: inline-block;
        }

        .btn--primary:hover {
        filter: brightness(.98);
        }

        .hero {
        position: relative;
        height: calc(100vh - 64px);
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 24px;
        background-image: linear-gradient(rgba(255, 255, 255, .65), rgba(255, 255, 255, .65)), url("#{resource['images/home-bg.jpg']}");
        background-size: cover;
        background-position: center;
        }

        .hero h1 {
        font-size: 54px;
        margin: 0 0 12px;
        color: #2E2B74;
        text-shadow: 0 2px 3px rgba(0, 0, 0, .15);
        }

        .hero p {
        font-size: 24px;
        margin: 0;
        max-width: 720px;
        line-height: 1.35;
        }

        .modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, .35);
        display: none;
        align-items: center;
        justify-content: center;
        padding: 16px;
        }

        .modal {
        background: #fff;
        border-radius: 14px;
        padding: 20px;
        width: 100%;
        max-width: 520px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
        }

        .modal h3 {
        margin: 0 0 12px;
        font-size: 22px;
        }

        .modal .actions {
        margin-top: 20px;
        display: flex;
        gap: 12px;
        justify-content: flex-end;
        }

        .modal .danger {
        background: #b51d1d;
        color: #fff;
        }

        .modal .cancel {
        background: #fff;
        border: 2px solid #b6b6b6;
        }

        .modal.open {
        display: flex;
        }
    </h:outputStylesheet>

    <h:outputScript target="body">
        function openLogoutModal() {
        document.getElementById('logoutBackdrop').style.display = 'flex';
        }

        function closeLogoutModal() {
        document.getElementById('logoutBackdrop').style.display = 'none';
        }
    </h:outputScript>
</h:head>

<h:body>
    <nav class="topbar">
        <div class="topbar__left">
            <h:graphicImage library="images" name="logo-sipsi.png" alt="SiPsi" styleClass="logo" />
        </div>

        <div class="topbar__center">
            <div class="nav-actions">
                <h:link outcome="/pages/pacientes.xhtml?faces-redirect=true" styleClass="btn btn--primary">Pacientes</h:link>
                <button type="button" class="btn btn--logout" onclick="openLogoutModal()">Cerrar sesión</button>
            </div>
        </div>

        <div class="topbar__right"></div>
    </nav>

    <main class="hero">
        <div>
            <h1>¡Bienvenida, #{empty sessionScope.usuario ? 'Nancy' : sessionScope.usuario.usuario}!</h1>
            <p>Tu día más simple, tu atención más enfocada.</p>
        </div>
    </main>

    <div id="logoutBackdrop" class="modal-backdrop">
        <div class="modal">
            <h3>¿Seguro que quieres cerrar sesión?</h3>
            <h:form>
                <div class="actions">
                    <button type="button" class="btn cancel" onclick="closeLogoutModal()">Cancelar</button>
                    <h:commandButton value="Cerrar sesión" styleClass="btn danger" action="#{logoutBean.cerrarSesion}" />
                </div>
            </h:form>
        </div>
    </div>
</h:body>
</html>